{% extends 'base.html' %}

{% block content %}
<h2>Topics</h2>

<ul>
    {% for post in posts %}
    <li>
        <a href="{{ url_for('view_topic', post_id=post._id) }}">{{ post.title }}</a>
        <p>Posted by: {{ post.username }}</p>
        <p>Contribution: {{ (post.upvotes | default(0)) - (post.downvotes | default(0)) }}</p>
        <p>Upvotes: {{ post.upvotes | default(0) }} | Downvotes: {{ post.downvotes | default(0) }}</p>
    </li>
    {% else %}
    <li>No approved topics found.</li>
    {% endfor %}
</ul>
{% endblock %}